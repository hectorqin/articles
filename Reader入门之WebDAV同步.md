# Reader入门之WebDAV同步

经历了一番折腾，相信大部分人都已经搭建好了 **Reader** 吧，如果还没搭好，也可以去 Demo [https://reader.htmake.com](https://reader.htmake.com)  注册账号体验，空位有限，先到先得。

## 开始使用

初次搭建好后，需要导入书源才能使用。当然如果在启动的时候，在 `/home/reader/storage/data/default/` 目录下面存放了默认书源 `bookSource.json` 的话，那么新注册的用户会拷贝默认书源，从而可以直接搜书看书了。

### 导入书源

可以使用 `导入书源` 来导入本地书源 JSON 文件，也可以使用 `远程书源` 来导入远程书源。

![](https://cdn.jsdelivr.net/gh/filess/img8@main/2022/05/15/1652582908177-874a20ad-d1a1-4160-bd84-599d1e9e26c0.48)

![](https://cdn.jsdelivr.net/gh/filess/img7@main/2022/05/15/1652583824797-0688eb10-cf14-443b-84f3-25824b5cf282.gif)

推荐远程书源 👇

- **https://yuedu.xiu2.xyz/** 需要打开网页获取书源链接
- **https://namofree.gitee.io/yuedu3/legado3_booksource_by_Namo.json** 直接复制即可

### 搜索书籍

默认使用多源搜索，可以按照书源分组进行搜索，搜索更快速。

点击搜索结果可以直接预览章节内容，如果觉得不错，可以返回后加入书架。

点击书架书籍封面会显示书籍详情，可以对书籍进行分组设置，自定义封面图片，以及设置是否定时拉取章节更新。

![](https://cdn.jsdelivr.net/gh/filess/img1@main/2022/05/15/1652584513881-b2990128-1132-4c67-ae60-328015fab261.gif)


## WebDAV 同步

搭建好之后，需要经过导入书源、搜索书籍加入书架等一系列操作才能愉快的阅读，那么有没有更快的方式？有的，**开源阅读**的用户可以通过**WebDAV**来恢复App的备份文件，而且还能和App保持阅读进度同步哦！

> 阅读进度同步是指 同步章节序号，章节位置是无法同步的，而且如果App和Reader使用的源不同，那么进度同步可能会不一致

### 开启 WebDAV 权限

WebDAV服务是默认开启的，但是多用户模式下，用户是默认未开启 WebDAV 同步权限的，需要去书架页面开启用户权限。

![](https://cdn.jsdelivr.net/gh/filess/img0@main/2022/05/15/1652585207312-0d347ad2-b861-48c2-958e-a355eefb3eb4.gif)

### 阅读App配置 WebDAV 备份

- `WebDav 服务器地址`

填写 `http://IP:端口/reader3/webdav/`，将 IP 和端口换成你自己的，如果配置了 **HTTPS**，就将 http 换成 https。

- `WebDav 账号`  和 `WebDav 密码`

单用户模式下，账号为 `default`，密码 `123456`。多用户模式下，使用注册的且开启了 WebDAV 权限的账号密码即可。

![](https://cdn.jsdelivr.net/gh/filess/img15@main/2022/05/15/1652585439136-71448de9-1bdd-47ef-9e92-f38173dbe289.jpg)

配置好后，点击 `备份与恢复` 下面的 `备份`，如果备份成功，可以进入下一步，否则按照下面的步骤检查：

1.服务是否正常运行，web书架能否正常访问。

2.当前运行的是单用户还是多用户模式，多用户模式下用户 WebDAV 权限是否开启？

3.重启App，多试几次。

4.检查 `storage/logs` 目录的日志，如果不能找到问题，那就去 Github 或者群里反馈。

### Web书架恢复备份

在 Web 书架侧边栏，点击 `WebDAV` 下面的`文件管理`，在文件列表里面找到最新的备份文件，点击还原即可从备份文件中恢复书源、书架、书籍分组、RSS订阅等，然后就可以愉快的阅读啦，并且还能保持进度同步哦。

> 阅读App的本地书籍恢复到 Reader 之后，是无法阅读的，需要重新在 Web 书架导入相应的书籍文件，导入的时候编辑书名和作者名，和原来的书籍信息保持一致，就可以继续阅读啦。

![](https://cdn.jsdelivr.net/gh/filess/img14@main/2022/05/15/1652587086265-7ae13dca-022d-4967-a302-7f9be78635a2.gif)

### 注意事项

- 服务器会自动同步书籍阅读进度(暂不支持章节内阅读位置，也不会自动同步书架信息变更)

- 可以直接选择阅读App的备份文件进行恢复，这样会直接覆盖书源和书架信息

- 可以备份当前书源和书架信息到WebDAV，但是必须要先备份成功（因为要替换备份文件中的书源和书架等信息）

- 如果阅读App书架信息变动了，需要通过恢复备份文件来同步书籍和书源信息

> 简单的说，阅读App 和 Reader 是两套不同的系统，除了章节进度会自动同步之外，其它都不会自动同步，只能通过备份恢复来同步。

#### 更多使用教程，陆续更新中

- [怎么快速搭建 Reader？](https://mp.weixin.qq.com/s?__biz=MjM5MzMyMDgyMA==&mid=2249483670&idx=1&sn=5a1399ad4a98177a365aa8f8aee8e6a7)
- 本地书仓怎么使用？
- 书源怎么导入和失效检测？
- 阅读界面怎么自定义？

---

欢迎关注我的公众号“**假装大佬**”，原创技术文章第一时间推送。

<center>
    <img src="https://cdn.jsdelivr.net/gh/filess/img18@main/2022/05/14/1652503172603-2ab0ce52-181c-4878-8739-676bd9177791.jpg" style="width: 125px;">
</center>